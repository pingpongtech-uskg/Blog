{{ $disableImageOptimization := .Site.Params.disableImageOptimization | default false }}
<div
  class="flex flex-row items-center border-t border-b border-neutral-200 dark:border-neutral-700 py-6 my-10 author-box">
  {{ with .Site.Params.Author.image }}
  {{ $authorImage := "" }}
  {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
  {{ $authorImage = resources.GetRemote . }}
  {{ else }}
  {{ $authorImage = resources.Get . }}
  {{ end }}
  {{ if $authorImage }}
  {{ $final := $authorImage }}
  {{ if not $disableImageOptimization }}
  {{ $final = $authorImage.Fill "128x128" }}
  {{ end }}
  <img class="!mt-0 !mb-0 h-16 w-16 rounded-full me-4 object-cover" width="64" height="64"
    alt="{{ $.Site.Params.Author.name | default " Author" }}" src="{{ $final.RelPermalink }}">
  {{ end }}
  {{ end }}

  <div class="flex-grow flex flex-col justify-center">
    <div class="flex items-center justify-between">
      <div>
        <div class="font-bold text-lg text-neutral-900 dark:text-neutral-100">
          Written by {{ .Site.Params.Author.name | default "Author" }}
        </div>
        <div class="text-xs text-neutral-500 dark:text-neutral-400 mt-1">
          2.1K followers Â· 181 following
        </div>
      </div>
      <div>
        <button
          class="bg-transparent hover:bg-neutral-100 dark:hover:bg-neutral-800 text-neutral-700 dark:text-neutral-300 font-semibold py-1 px-4 border border-neutral-300 dark:border-neutral-600 rounded-full text-sm transition-colors">
          Follow
        </button>
      </div>
    </div>
    {{ with .Site.Params.Author.bio | markdownify }}
    <div class="text-sm text-neutral-700 dark:text-neutral-300 mt-2">{{ . }}</div>
    {{ end }}
  </div>
</div>